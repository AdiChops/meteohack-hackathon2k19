<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel = "stylesheet" type = "text/css" href = "styles/styles.css" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Quiz</title>
</head>

<body>
    <div>
        <div class="row" id="question">
            <div class="col">
                <div>This is the question part</div>
            </div>
        </div>
        <div class="row" id="visual" style="display:none">
            <div class="col" id="answer1" style="display:none">
                <div class="row">
                    <div class="col">
                        The chart shows the downward trend in sea ice from 1968. To lose 7.4% of volume per decade is a substantial amount and has devastating effects to the environment.
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <div id="chartContainer"></div>
                    </div>
                </div>

            </div>
            <div id="question2">

            </div>
            <div id="answer2">

            </div>
            <div id="endStateContainer" style="display:none;">
                endstate
            </div>
        </div>

        <div class="answer" id="multiAnswer">
            <div class="row">
                <div class="col">
                    <div class="btn-danger choices">
                        A
                    </div>
                </div>
                <div class="col">
                    <div class="btn-primary choices">
                        B
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="btn-warning choices">
                        C
                    </div>
                </div>
                <div class="col">
                    <div class="btn-success choices">
                        D
                    </div>
                </div>
            </div>
        </div>

        <div class="answer" id="next" style="display:none;">
            <div class="row">
                <div class="col">
                    <div class="btn-success choices">
                        Next Question
                    </div>
                </div>
            </div>
        </div>
    </div>
  
</body>

</html>

  <script src="scripts/script.js" type="text/javascript"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/canvasjs/1.7.0/canvasjs.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <script type="text/javascript">



    $('.choices').click(function () {
       $("#visual").show();
        $("#answer1").show();
        $("#multiAnswer").hide();
        $("#next").show()
        console.log(1)
    });

    
    var dataPoints = [];
    var jqxhr = $.get("https://www.canada.ca/content/dam/eccc/documents/csv/cesindicators/sea-ice/2019/3.SeaIce-MultiYear-EN.csv", function () {
    }).done(function (data) {
        processData(data);
    });

    function processData(allText) {
        var allLinesArray = allText.split('\n');
        if (allLinesArray.length > 0) {
            for (var i = 3; i <= 51; i++) {
                var rowData = allLinesArray[i].split(',');
                dataPoints.push({ label: rowData[0], y: parseInt(rowData[1]) });
            }
            console.log($("#answer1").height)
            drawChart(dataPoints);
        }
    }

    function drawChart(dataPoints) {
        var chart = new CanvasJS.Chart('chartContainer', {
            theme: 'theme1',//theme1
            height: 300,
            title: {
                text: 'Canadian Artic Sea Ice Volume'
            },
            data: [
                {
                    type: "line",
                    dataPoints: dataPoints
                }
            ]
        });
        chart.render();
    };

</script>

